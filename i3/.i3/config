# i3 config file (v4)
# vim: fdm=marker ft=i3config

# SETTING VARS {{{
set $Up k
set $Left h
set $Right l
set $Down j
set $workspace1 "1:1"
set $workspace2 "2:2"
set $workspace3 "3:3"
set $workspace4 "4:4"
set $workspace5 "5:5"
set $workspace6 "6:6"
set $workspace7 "7:7"
set $workspace8 "8:8"
set $workspace9 "9:9"
set $workspace10  "10:10"
# }}}

# INITIAL SETTINGS {{{
set $mod Mod4
floating_modifier $mod
bindsym $mod+q kill
bindsym --whole-window $mod+button2 kill
popup_during_fullscreen leave_fullscreen
new_window pixel 2
new_float pixel 7
# workspace_layout tabbed
# }}}

# WORKSPACES {{{
bindsym $mod+1 workspace $workspace1
bindsym $mod+2 workspace $workspace2
bindsym $mod+3 workspace $workspace3
bindsym $mod+4 workspace $workspace4
bindsym $mod+5 workspace $workspace5
bindsym $mod+6 workspace $workspace6
bindsym $mod+7 workspace $workspace7
bindsym $mod+8 workspace $workspace8
bindsym $mod+9 workspace $workspace9
bindsym $mod+0 workspace $workspace10
bindsym $mod+Shift+1 move container to workspace $workspace1
bindsym $mod+Shift+2 move container to workspace $workspace2
bindsym $mod+Shift+3 move container to workspace $workspace3
bindsym $mod+Shift+4 move container to workspace $workspace4
bindsym $mod+Shift+5 move container to workspace $workspace5
bindsym $mod+Shift+6 move container to workspace $workspace6
bindsym $mod+Shift+7 move container to workspace $workspace7
bindsym $mod+Shift+8 move container to workspace $workspace8
bindsym $mod+Shift+9 move container to workspace $workspace9
bindsym $mod+Shift+0 move container to workspace $workspace10
bindsym $mod+Shift+Tab move container to workspace back_and_forth
bindsym $mod+Tab workspace back_and_forth
workspace_auto_back_and_forth yes
bindsym $mod+Return workspace next_on_output
bindsym $mod+BackSpace workspace prev_on_output
bindsym $mod+Shift+Return move container to workspace next_on_output
bindsym $mod+Shift+BackSpace move container to workspace prev_on_output
# }}}

# CONTAINERS {{{
bindsym $mod+w layout toggle 
bindsym $mod+backslash split h
bindsym $mod+minus split v
bindsym $mod+f fullscreen
bindsym $mod+Shift+s move scratchpad
bindsym $mod+s scratchpad show
bindsym $mod+t floating toggle
bindsym $mod+Shift+b bar mode toggle
bindsym $mod+Shift+$Left move left
bindsym $mod+Shift+$Down move down
bindsym $mod+Shift+$Up move up
bindsym $mod+Shift+$Right move right
bindsym $mod+$Left focus left
bindsym $mod+$Down focus down
bindsym $mod+$Up focus up
bindsym $mod+$Right focus right
bindsym $mod+a focus parent
bindsym $mod+shift+a focus child
# }}}

# THEMING {{{
font pango:IBM Plex Mono 8
bindsym $mod+Shift+d exec --no-startup-id $HOME/Dotfiles/script/unsplash
bindsym $mod+Shift+f exec --no-startup-id $HOME/Dotfiles/script/unsplash -l
bindsym $mod+Shift+t exec --no-startup-id $HOME/Dotfiles/script/i3-tray-toggle
set_from_resource $pdark color0
set_from_resource $text color7
set_from_resource $dark color8
set_from_resource $urgent color1
set_from_resource $clear color6
set_from_resource $accent color7
#                       border  bg       text  indicator
client.focused          $accent $accent  $pdark $urgent
client.focused_inactive $dark   $dark    $text  $urgent
client.unfocused        $dark   $dark    $text  $urgent
client.urgent           $urgent $urgent  $text  $pdark
bar {
    position top
    tray_output none
    status_command i3blocks -c i3blocks.conf
    font pango:IBM Plex Mono 11
    strip_workspace_numbers yes
	colors {
		separator $text
		background $pdark
		statusline $text
#		                   border  bg	   text
		focused_workspace  $accent $accent $pdark
		active_workspace   $accent $accent $pdark
		inactive_workspace $pdark  $pdark  $text
		urgent_workspace   $urgent $urgent $pdark
 }
}
# }}}

# CLASSES AND WINDOW-SPECIFIC SETTINGS {{{
assign [class = "Telegram"] $workspace9
for_window [class = "Spotify"] move to workspace $workspace10
# }}}

# BINDINGS {{{
bindsym Control+space exec --no-startup-id i3-dmenu-desktop --dmenu="dmenu -i -fn \"IBMPlexMono-12\" -nb \"$pdark\" -sb \"$accent\" -nf \"$text\""
bindsym Control+Mod1+p exec --no-startup-id /home/vic/Dotfiles/script/winston-pass
bindsym Control+Mod1+u exec --no-startup-id /home/vic/Dotfiles/script/winston-utils
bindsym Control+Mod1+t  exec --no-startup-id urxvt
bindsym XF86AudioPlay exec --no-startup-id playerctl play-pause
bindsym XF86AudioNext exec --no-startup-id playerctl next
bindsym XF86AudioPrev exec --no-startup-id playerctl previous
bindsym XF86AudioRaiseVolume exec --no-startup-id amixer -q sset Master 5%+ 
bindsym XF86AudioLowerVolume exec --no-startup-id amixer -q sset Master 5%-
bindsym --release Print exec --no-startup-id gnome-screenshot -aic
# }}}

# MODES {{{
set $sysmenu "Exit - Halt - Reboot - Suspend - Lock"
bindsym $mod+Delete mode $sysmenu
mode $sysmenu {
	bindsym r         restart
	bindsym e         exec --no-startup-id i3-nagbar -t warning -m 'Logout?' -b 'y' 'i3-msg exit' 
	bindsym h         exec --no-startup-id systemctl poweroff
	bindsym b         exec --no-startup-id systemctl reboot
	bindsym s         exec --no-startup-id i3lock && i3 mode default && systemctl suspend
	bindsym l         exec --no-startup-id i3lock && i3 mode default
	bindsym Return    mode "default"
	bindsym Escape    mode "default"
}
bindsym $mod+r mode "resize"
mode "resize" {
	bindsym $Left resize shrink width 2 px or 2 ppt
	bindsym $Down resize shrink height 2 px or 2 ppt
	bindsym $Up resize grow height 2 px or 2 ppt
	bindsym $Right resize grow width 2 px or 2 ppt
	bindsym Shift + $Left resize shrink width 10 px or 10 ppt
	bindsym Shift + $Down resize shrink height 10 px or 10 ppt
	bindsym Shift + $Up resize grow height 10 px or 10 ppt
	bindsym Shift + $Right resize grow width 10 px or 10 ppt
	bindsym Return mode "default"
	bindsym Escape mode "default"
}
set $monitor "Edpi1 - Hdmi1 - Clonato - Doppio - Sinistra/Destra (r/R)"
bindsym $mod+m mode $monitor
mode $monitor {
	bindsym Escape mode "default"
	bindsym c exec --no-startup-id $HOME/Dotfiles/script/monitor/clonato.sh; mode "default"
	bindsym d exec --no-startup-id $HOME/Dotfiles/script/monitor/destra.sh; mode "default"
	bindsym r exec --no-startup-id $HOME/Dotfiles/script/monitor/ruotato-sinistra.sh; mode "default"
	bindsym Shift + r exec --no-startup-id $HOME/Dotfiles/script/monitor/ruotato-destra.sh; mode "default"
	bindsym e exec --no-startup-id $HOME/Dotfiles/script/monitor/internal.sh; mode "default"
	bindsym h exec --no-startup-id $HOME/Dotfiles/script/monitor/hdmi-1.sh; mode "default"
    bindsym a exec --no-startup-id arandr; mode "default"
}
# }}}

# AUTOSTART APPLICATIONS {{{
exec_always --no-startup-id xmodmap /home/vic/Dotfiles/Xmodmap
exec_always --no-startup-id feh --bg-fill ~/.img
exec --no-startup-id compton -b
exec --no-startup-id xfce4-power-manager
exec --no-startup-id nm-applet
exec --no-startup-id owncloud
exec --no-startup-id dropbox start
exec --no-startup-id killall gnome-keyring-daemon
# vim: fdm=marker
# }}}
